<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>任务管理 - StudySpace 管理后台</title>
  <link rel="stylesheet" href="../../../core/styles/main.css">
  <link rel="stylesheet" href="../../../core/layouts/admin-layout/style.css">
  <link rel="stylesheet" href="../../../core/components/sidebar/style.css">
  <link rel="stylesheet" href="../../../core/components/navbar/style.css">
  <link rel="stylesheet" href="../../../core/components/search-bar/style.css">
  <link rel="stylesheet" href="../../../core/components/button/style.css">
  <link rel="stylesheet" href="../../../core/components/filter-dropdown/style.css">
  <style>
    .task-stats {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin-bottom: 24px;
    }
    
    .stat-card {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
    }
    
    .stat-card__label {
      font-size: 12px;
      color: #86868B;
      margin-bottom: 8px;
    }
    
    .stat-card__value {
      font-size: 28px;
      font-weight: 600;
      color: #1D1D1F;
    }
    
    .filter-bar {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 24px;
    }
    
    .task-board {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
    }
    
    .task-column {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
    }
    
    .task-column__header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
    }
    
    .task-column__title {
      font-size: 14px;
      font-weight: 600;
      color: #1D1D1F;
    }
    
    .task-column__count {
      font-size: 12px;
      color: #86868B;
      background: rgba(0, 0, 0, 0.04);
      padding: 4px 10px;
      border-radius: 12px;
    }
    
    .task-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
      min-height: 400px;
    }
    
    .task-item {
      padding: 14px;
      background: rgba(245, 245, 247, 0.8);
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .task-item:hover {
      background: rgba(245, 245, 247, 1);
      transform: translateY(-2px);
    }
    
    .task-item__title {
      font-size: 13px;
      font-weight: 500;
      color: #1D1D1F;
      margin-bottom: 6px;
    }
    
    .task-item__meta {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 11px;
      color: #86868B;
    }
    
    @media (max-width: 1200px) {
      .task-stats {
        grid-template-columns: repeat(2, 1fr);
      }
      .task-board {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    @media (max-width: 768px) {
      .task-stats {
        grid-template-columns: 1fr;
      }
      .task-board {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="admin-layout">
    <!-- 侧边栏 -->
    <aside class="sidebar">
      <div class="sidebar__logo">
        <span class="sidebar__logo-text">StudySpace</span>
      </div>
      <nav class="sidebar__nav">
        <a href="../../dashboard/pages/overview.html" class="sidebar__nav-item">
          <span class="sidebar__nav-text">预约管理</span>
        </a>
        <a href="../../seat-management/pages/seat-list.html" class="sidebar__nav-item">
          <span class="sidebar__nav-text">座位管理</span>
        </a>
        <a href="../../study-record/pages/index.html" class="sidebar__nav-item">
          <span class="sidebar__nav-text">学习记录</span>
        </a>
        <a href="index.html" class="sidebar__nav-item sidebar__nav-item--active">
          <span class="sidebar__nav-text">任务</span>
        </a>
        <a href="../../calendar/pages/index.html" class="sidebar__nav-item">
          <span class="sidebar__nav-text">日历</span>
        </a>
        <a href="../../settings/pages/index.html" class="sidebar__nav-item">
          <span class="sidebar__nav-text">管理员设置</span>
        </a>
      </nav>
    </aside>

    <!-- 主内容区 -->
    <div class="admin-layout__main">
      <!-- 顶部导航 -->
      <header class="navbar navbar--fixed">
        <div class="search-bar">
          <input type="text" class="search-bar__input" placeholder="搜索任务...">
        </div>
        <div class="navbar__actions">
          <button class="navbar__filter-btn">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2z"/>
            </svg>
            筛选
          </button>
        </div>
      </header>

      <!-- 页面内容 -->
      <main class="admin-layout__content">
        <!-- 筛选栏 -->
        <div class="filter-bar">
          <div class="filter-dropdown" id="statusDropdown">
            <button class="filter-dropdown__trigger" onclick="toggleDropdown('statusDropdown')">
              <span class="filter-dropdown__label">全部状态</span>
              <span class="filter-dropdown__arrow">▾</span>
            </button>
            <div class="filter-dropdown__menu">
              <div class="filter-dropdown__item filter-dropdown__item--active">全部状态</div>
              <div class="filter-dropdown__item">进行中</div>
              <div class="filter-dropdown__item">已完成</div>
              <div class="filter-dropdown__item">已逾期</div>
            </div>
          </div>
          
          <div class="filter-dropdown" id="userDropdown">
            <button class="filter-dropdown__trigger" onclick="toggleDropdown('userDropdown')">
              <span class="filter-dropdown__label">全部用户</span>
              <span class="filter-dropdown__arrow">▾</span>
            </button>
            <div class="filter-dropdown__menu">
              <div class="filter-dropdown__item filter-dropdown__item--active">全部用户</div>
              <div class="filter-dropdown__item">张三</div>
              <div class="filter-dropdown__item">李四</div>
              <div class="filter-dropdown__item">王五</div>
            </div>
          </div>
          
          <button class="btn btn--primary btn--sm">+ 创建任务</button>
        </div>

        <!-- 任务统计 -->
        <div class="task-stats">
          <div class="stat-card">
            <div class="stat-card__label">总任务数</div>
            <div class="stat-card__value">156</div>
          </div>
          <div class="stat-card">
            <div class="stat-card__label">进行中</div>
            <div class="stat-card__value">42</div>
          </div>
          <div class="stat-card">
            <div class="stat-card__label">已完成</div>
            <div class="stat-card__value">98</div>
          </div>
          <div class="stat-card">
            <div class="stat-card__label">已逾期</div>
            <div class="stat-card__value">16</div>
          </div>
        </div>

        <!-- 看板视图 -->
        <div class="task-board">
          <div class="task-column">
            <div class="task-column__header">
              <span class="task-column__title">待处理</span>
              <span class="task-column__count">12</span>
            </div>
            <div class="task-list">
              <div class="task-item">
                <div class="task-item__title">更新座位管理系统</div>
                <div class="task-item__meta">
                  <span>张三</span>
                  <span>•</span>
                  <span>12/15</span>
                </div>
              </div>
              <div class="task-item">
                <div class="task-item__title">优化预约流程</div>
                <div class="task-item__meta">
                  <span>李四</span>
                  <span>•</span>
                  <span>12/16</span>
                </div>
              </div>
            </div>
          </div>
          
          <div class="task-column">
            <div class="task-column__header">
              <span class="task-column__title">进行中</span>
              <span class="task-column__count">8</span>
            </div>
            <div class="task-list">
              <div class="task-item">
                <div class="task-item__title">数据统计功能开发</div>
                <div class="task-item__meta">
                  <span>王五</span>
                  <span>•</span>
                  <span>12/18</span>
                </div>
              </div>
            </div>
          </div>
          
          <div class="task-column">
            <div class="task-column__header">
              <span class="task-column__title">待验收</span>
              <span class="task-column__count">5</span>
            </div>
            <div class="task-list">
              <div class="task-item">
                <div class="task-item__title">通知系统优化</div>
                <div class="task-item__meta">
                  <span>赵六</span>
                  <span>•</span>
                  <span>12/14</span>
                </div>
              </div>
            </div>
          </div>
          
          <div class="task-column">
            <div class="task-column__header">
              <span class="task-column__title">已完成</span>
              <span class="task-column__count">18</span>
            </div>
            <div class="task-list">
              <div class="task-item">
                <div class="task-item__title">权限系统重构</div>
                <div class="task-item__meta">
                  <span>钱七</span>
                  <span>•</span>
                  <span>12/10</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>

  <script>
    function toggleDropdown(id) {
      const dropdown = document.getElementById(id);
      const isOpen = dropdown.classList.contains('filter-dropdown--open');
      
      document.querySelectorAll('.filter-dropdown').forEach(d => {
        d.classList.remove('filter-dropdown--open');
      });
      
      if (!isOpen) {
        dropdown.classList.add('filter-dropdown--open');
      }
    }
    
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.filter-dropdown')) {
        document.querySelectorAll('.filter-dropdown').forEach(d => {
          d.classList.remove('filter-dropdown--open');
        });
      }
    });
    
    document.querySelectorAll('.filter-dropdown__item').forEach(item => {
      item.addEventListener('click', function() {
        const dropdown = this.closest('.filter-dropdown');
        const label = dropdown.querySelector('.filter-dropdown__label');
        
        dropdown.querySelectorAll('.filter-dropdown__item').forEach(i => {
          i.classList.remove('filter-dropdown__item--active');
        });
        this.classList.add('filter-dropdown__item--active');
        label.textContent = this.textContent;
        dropdown.classList.remove('filter-dropdown--open');
      });
    });
  </script>
</body>
</html>
