<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <title>StudySpace - 邮箱登录</title>
  <link rel="stylesheet" href="../desktop/admin-desktop/core/styles/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --auth-bg: radial-gradient(circle at 18% 22%, rgba(0, 122, 255, 0.12), transparent 34%),
        radial-gradient(circle at 78% 18%, rgba(90, 200, 250, 0.12), transparent 36%),
        radial-gradient(circle at 50% 82%, rgba(0, 122, 255, 0.08), transparent 38%),
        linear-gradient(180deg, #F2F3F7 0%, #E7E9F2 100%);
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: var(--font-family-primary);
      background: var(--auth-bg);
      color: var(--color-text-primary);
      display: flex;
      justify-content: center;
      padding: 22px 14px 26px;
    }

    .page { width: min(390px, 100%); display: flex; flex-direction: column; gap: var(--spacing-md); }

    .phone-shell {
      background: rgba(255, 255, 255, 0.9);
      border: 1px solid var(--color-border-secondary);
      border-radius: 46px;
      padding: 10px 16px 14px;
      box-shadow: var(--shadow-xl);
      backdrop-filter: var(--glass-blur);
      -webkit-backdrop-filter: var(--glass-blur);
      min-height: 780px;
      display: grid;
      gap: 12px;
    }

    .status-bar {
      height: 44px;
      background: #fff;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 10px;
      border-radius: 26px;
      box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.04);
      font-size: 14px;
      color: var(--color-text-primary);
      letter-spacing: 0.02em;
    }

    .status-bar__time { font-weight: 600; }

    .status-bar__icons {
      display: flex;
      gap: 6px;
      align-items: center;
      color: var(--color-text-primary);
    }

    .status-bar__icons i { font-size: 14px; }

    .card-header {
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      padding: 8px 12px;
      border: 1px solid var(--color-border-secondary);
      border-radius: var(--radius-lg);
      background: linear-gradient(135deg, #F8FBFF 0%, #F1F6FF 60%, #FFFFFF 100%);
      box-shadow: var(--shadow-sm);
      font-weight: var(--font-weight-semibold);
    }

    .brand-logo { width: 42px; height: 42px; border-radius: 50%; background: var(--color-primary-gradient); display: grid; place-items: center; color: #fff; font-weight: var(--font-weight-bold); box-shadow: var(--shadow-lg); }
    .brand-title { display: flex; flex-direction: column; gap: 2px; }
    .brand-title strong { font-size: 18px; letter-spacing: var(--letter-spacing-tight); }
    .brand-title span { color: var(--color-text-secondary); font-size: 13px; }

    .panel {
      background: var(--glass-bg-dark);
      border: 1px solid var(--color-border-secondary);
      border-radius: var(--radius-xxl);
      padding: 18px 16px 20px;
      box-shadow: var(--shadow-lg);
      display: grid;
      gap: var(--spacing-md);
    }

    .panel h2 { margin: 0; text-align: center; font-size: 18px; letter-spacing: var(--letter-spacing-tight); }

    .form-grid { display: grid; gap: var(--spacing-sm); }
    .field { display: grid; gap: 6px; }
    .field label { font-size: 14px; font-weight: var(--font-weight-semibold); }
    .input { width: 100%; padding: 10px 12px; border-radius: var(--radius-lg); border: 1px solid var(--color-border-secondary); background: rgba(255,255,255,0.94); font-size: 15px; transition: border-color var(--transition-normal), box-shadow var(--transition-normal); }
    .input:focus { outline: none; border-color: var(--color-primary); box-shadow: 0 0 0 4px rgba(0,122,255,0.18); }

    .captcha-row { display: flex; gap: var(--spacing-sm); align-items: center; }
    .captcha-row .input { flex: 1; }

    .btn-ghost { border: 1px solid var(--color-border-secondary); background: rgba(255,255,255,0.9); border-radius: var(--radius-md); padding: 10px 12px; font-size: 14px; cursor: pointer; transition: transform var(--transition-bounce), box-shadow var(--transition-normal), border-color var(--transition-normal); white-space: nowrap; }
    .btn-ghost:hover { transform: translateY(-1px); border-color: var(--color-primary); box-shadow: var(--shadow-sm); }

    .form-message { display: none; border-radius: var(--radius-lg); padding: var(--spacing-sm) var(--spacing-md); font-size: 14px; justify-content: center; align-items: center; gap: var(--spacing-sm); }
    .form-message--success { display: flex; background: var(--color-success-bg); color: var(--color-success); border: 1px solid rgba(52, 199, 89, 0.2); }
    .form-message--error { display: flex; background: var(--color-error-bg); color: var(--color-error); border: 1px solid rgba(255,59,48,0.2); }

    .actions { display: grid; gap: var(--spacing-sm); }
    .btn-primary { border: none; background: var(--color-primary-gradient); color: #fff; padding: 14px 18px; border-radius: var(--radius-lg); font-size: 16px; font-weight: var(--font-weight-semibold); cursor: pointer; box-shadow: var(--shadow-button); transition: transform var(--transition-bounce), box-shadow var(--transition-normal); width: 100%; }
    .btn-primary:hover { transform: translateY(-1px); box-shadow: var(--shadow-card-hover); }

    .link-button { border: 1px solid var(--color-border-secondary); background: rgba(255, 255, 255, 0.92); color: var(--color-text-primary); padding: 12px 14px; border-radius: var(--radius-lg); font-weight: var(--font-weight-semibold); cursor: pointer; transition: border-color var(--transition-normal), box-shadow var(--transition-normal); width: 100%; }
    .link-button:hover { border-color: var(--color-primary); box-shadow: var(--shadow-sm); }

    @media (max-width: 480px) {
      body { padding: 20px 12px; }
      .phone-shell { padding: 14px 12px 18px; border-radius: 46px; min-height: 640px; }
    }
  </style>
</head>
<body>
  <div class="page">
    <div class="phone-shell">
      <div class="status-bar" aria-label="手机状态栏">
        <div class="status-bar__time" id="currentTime">14:30</div>
        <div class="status-bar__icons" aria-hidden="true">
          <i class="fas fa-signal"></i>
          <i class="fas fa-wifi"></i>
          <i class="fas fa-battery-three-quarters"></i>
        </div>
      </div>
      <div class="card-header" aria-label="邮箱登录标题">
        <div class="brand-logo">SS</div>
        <div class="brand-title">
          <strong>StudySpace 邮箱登录</strong>
          <span>邮箱验证码一键登录</span>
        </div>
      </div>

      <section class="panel" aria-label="邮箱登录表单">
        <h2>邮箱验证码登录</h2>
        <form class="form-grid" id="emailLoginForm">
          <div class="field">
            <label for="email">邮箱账号</label>
            <input id="email" class="input" type="email" name="email" placeholder="请输入常用邮箱" autocomplete="email" required>
          </div>
          <div class="field">
            <label for="captcha">验证码</label>
            <div class="captcha-row">
              <input id="captcha" class="input" type="text" name="captcha" placeholder="请输入验证码" autocomplete="one-time-code" required>
              <button class="btn-ghost" type="button" id="sendCodeBtn">获取验证码</button>
            </div>
          </div>
          <div class="form-message" id="formMessage" aria-live="polite"></div>
          <div class="actions">
            <button class="btn-primary" type="submit" id="loginBtn">登录</button>
            <button class="link-button" type="button" onclick="window.location.href='移动用户端-进入页面.html'">返回登录</button>
          </div>
        </form>
      </section>
    </div>
  </div>

  <script>
    function updateCurrentTime() {
      const now = new Date();
      const timeStr = now.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' });
      const timeEl = document.getElementById('currentTime');
      if (timeEl) timeEl.textContent = timeStr;
    }
    updateCurrentTime();
    setInterval(updateCurrentTime, 60000);

    const form = document.querySelector('#emailLoginForm');
    const formMessage = document.querySelector('#formMessage');
    const sendCodeBtn = document.querySelector('#sendCodeBtn');
    const loginBtn = document.querySelector('#loginBtn');

    function showMessage(text, type = 'error') {
      formMessage.textContent = text;
      formMessage.classList.remove('form-message--error', 'form-message--success');
      formMessage.classList.add(type === 'success' ? 'form-message--success' : 'form-message--error');
      formMessage.style.display = 'flex';
    }

    function clearMessage() {
      formMessage.textContent = '';
      formMessage.classList.remove('form-message--error', 'form-message--success');
      formMessage.style.display = 'none';
    }

    sendCodeBtn?.addEventListener('click', () => {
      const email = document.querySelector('#email').value.trim();
      if (!email) {
        showMessage('请先填写邮箱后再获取验证码');
        return;
      }
      let countdown = 60;
      sendCodeBtn.disabled = true;
      sendCodeBtn.textContent = `重新获取(${countdown}s)`;
      const timer = setInterval(() => {
        countdown -= 1;
        sendCodeBtn.textContent = countdown > 0 ? `重新获取(${countdown}s)` : '获取验证码';
        if (countdown <= 0) {
          clearInterval(timer);
          sendCodeBtn.disabled = false;
        }
      }, 1000);
      showMessage('验证码已发送至邮箱（示例）', 'success');
    });

    form?.addEventListener('submit', (e) => {
      e.preventDefault();
      clearMessage();
      const email = document.querySelector('#email').value.trim();
      const captcha = document.querySelector('#captcha').value.trim();
      if (!email || !captcha) {
        showMessage('请填写邮箱和验证码');
        return;
      }
      loginBtn.disabled = true;
      loginBtn.textContent = '登录中...';
      setTimeout(() => {
        showMessage('登录成功，正在跳转...', 'success');
        setTimeout(() => window.location.href = '移动用户端-任务.html', 700);
        loginBtn.disabled = false;
        loginBtn.textContent = '登录';
      }, 800);
    });
  </script>
</body>
</html>
